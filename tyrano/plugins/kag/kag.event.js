tyrano.plugin.kag.event={tyrano:null,init:function(){},addEventElement:function(obj){var j_obj=obj.j_target;j_obj.addClass("event-setting-element");j_obj.attr("data-event-target",obj.target);j_obj.attr("data-event-storage",obj.storage);j_obj.attr("data-event-tag",obj.tag);j_obj.attr("data-event-pm",JSON.stringify(obj.pm))},removeEventAttr:function(j_obj){j_obj.removeClass("event-setting-element").removeAttr("data-event-target").removeAttr("data-event-storage").removeAttr("data-event-tag").removeAttr("data-event-pm")},addRestoreData:function(j_obj,tag,pm){const restore_data_str=j_obj.attr("data-restore");let restore_data;restore_data="string"==typeof restore_data_str?JSON.parse(restore_data_str):[];restore_data.push({tag:tag,pm:pm});j_obj.attr("data-restore",JSON.stringify(restore_data))},removeRestoreData:function(j_obj,tag){const restore_data_str=j_obj.attr("data-restore");if(!restore_data_str)return;if(!tag){j_obj.removeAttr("data-restore");return}const filterd_data=JSON.parse(restore_data_str).filter((item=>item.tag!==tag));filterd_data.length>0?j_obj.attr("data-restore",JSON.stringify(filterd_data)):j_obj.removeAttr("data-restore")}};
